<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Sistema de Agendamento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            display: flex;
            min-height: 100vh;
        }
        .sidebar a {
            color: #163d77;
            text-decoration: none;
            display: block;
            padding: 8px 10px;              
            margin-bottom: 8px;
            border-radius: 5px;
            transition: background-color 0.25s ease, 
                        padding-left 0.25s ease,
                        transform 0.15s ease;
        }

        .sidebar a:hover {
            background: rgba(255, 255, 255, 0.12);
            padding-left: 16px;                   
            transform: translateX(2px);
            font-weight: 700; 
            background: #e6e6e6;         
        }
        .content {
            flex-grow: 1;
            padding: 25px;
            background: #f7f7f7;
        }
        #topbar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 50px;               /* Altura da barra */
        background: #163d77;
        color: white;
        display: flex;
        align-items: center;        /* centraliza verticalmente */
        justify-content: flex-end;  /* bot√£o √† direita */
        padding-right: 20px;
        z-index: 9999;
        font-size: 16px;
        }
    </style>

</head>

<body>

    <div id="datetimeBox" style="position:absolute; top:10px; right:20px; text-align:right; font-family: 'Segoe UI';">
    <div><span style="opacity:0.7;"></span> <span id="dataAtual"></span></div>
    <div><span style="opacity:0.7;"></span> <span id="horaAtual"></span></div>
    </div>
    <!-- MENU LATERAL COM PERMISS√ïES -->
    <div class="sidebar">
        <a href="/dashboard" style="cursor: pointer;">
            <img src="/static/logo.png"
                alt="Logo"
                style="width: 110px; margin-bottom: 30px; animation: fadeIn 0.8s ease;">
        </a>

        <!-- TODOS -->
        <a href="/dashboard">üìÖ Dashboard</a>
        <a href="/agenda">üóìÔ∏è Calend√°rio</a>
        <a href="/agendamentos/novo">‚ûï Nova Solicita√ß√£o</a>

        <!-- SOMENTE ADMIN -->
        {% if usuario and usuario.pode_aprovar() %}
            <a href="/agendamentos/pendentes">
                üîî Solicita√ß√µes Pendentes 
                {% if pendentes_count %}
                    <span style="background:red; color:white; padding:2px 6px; border-radius:8px; font-size:12px;">
                        {{ pendentes_count }}
                    </span>
                {% endif %}
            </a>
            <a href="/setores">üìç Setores</a>
            <a href="/espacos">üì¶ Espa√ßos</a>
            <a href="/usuarios/novo">üë§ Criar Usu√°rio</a>
        {% endif %}

        <hr style="border-color: #555;">
        <a href="/logout" class="text-danger">üö™ Sair</a>
    </div>


    <!-- √ÅREA PRINCIPAL DA P√ÅGINA -->
    <div class="content">
        {% block conteudo %}{% endblock %}
    </div>

</body>

<script>
function atualizarDataHora() {
    const agora = new Date();

    // Data por extenso
    const opcoesData = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const dataExtenso = agora.toLocaleDateString('pt-BR', opcoesData);

    // Hora com segundos
    const hora = agora.toLocaleTimeString('pt-BR');

    document.getElementById("dataAtual").innerHTML = "Hoje √© " + dataExtenso;
    document.getElementById("horaAtual").innerHTML = hora;
}

// Atualiza ao carregar
atualizarDataHora();
// Atualiza a cada 1 segundo
setInterval(atualizarDataHora, 1000);
</script>

</html>
